version: "3.1"

intents:
  - saluto
  - affermazione 
  - negazione 
  - calcolo_bmi 
  - parametriBmi
  - request_bmi_form
  - scelta_dieta
  - not_opzioni
  - informazioni 
  - nome
  - scelta_inizio_allenamento 
  - scelta_casa_paestra
  - scelta_parte_allenare 

entities:
  - Epeso
  - Ealtezza
  - Enome
  - Ecasapalestra
  - Escheda


slots:
  Epeso:
    type: text
    # min_value: 20.0
    # max_value: 500.0
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: Epeso
  
  Ealtezza:
    type: text
    # min_value: 0.5
    # max_value: 3.0
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: Epeso
  
  Enome:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: Enome
  
  Ecasapalestra:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: Ecasapalestra

  Escheda:
    type: text
    influence_conversation: true
    mappings:
    - type: from_entity
      entity: Escheda

forms:
  bmi_form:
    required_slots:
      - Epeso
      - Ealtezza
  
  nome_form:
    required_slots:
      - Enome

  casapalestra_form:
    required_slots:
      - Ecasapalestra
  
  Scheda_form:
    required_slots:
      - Escheda

responses:
  
  utter_ric:
  - text: "{Enome} Preferisci che iniziamo con il definire il tuo piano alimentare, un piano di allenamento oppure gradisci vedere tutti gli esercizi che ti posso offrire?"

  utter_ric_bmi:
  - text: "Bene, per capire che tipo di alimentazione seguire è necessario che io calcoli il tuo indice di massa corporea, ovvero il bmi, vuoi avere delle informazioni a riguardo  oppure vuoi che proceda con il calcolo del bmi?"

  utter_ric_calc_bmi:
  - text:  "Vogliamo procedere con il calcolo del bmi?"

  utter_opzioni_calco_bmi:
  - text: "Preferisci proseguire con il calcolo, oppure preferisci che iniziamo ad allenarci?"

  
  utter_spiegazione_bmi:
  - text: "il bmi è un particolare numero, ottenuto tramite una certa formula matematica espressa in funzione della tua altezza e del tuo peso, che ci consente di capire lo stato della tua condizione fisica, ovvero, in parole povere, ci permette di capire se sei in forma o meno. Ad ogni modo se vuoi saperne di più ti rimando al seguente link https://www.centrostudigised.it/calcola_il_tuo_bmi.html"

  utter_submit:
  - text: "ho fatto"

  

# Utter per le form

  utter_ask_Epeso:
  - text: per proseguire con il calcolo del bmi è necessario che tu mi dica il tu peso attuale in Kg

  utter_ask_Ealtezza:
  - text: Mi servirebbe conoscere anche la tua altezza per concludere la procedura di calcolo

  utter_ask_Enome:
  - text: Salve io sono Fit, il tuo personal train, e ti guiderò nei tuoi primi passi nel mondo della palestra, ma prima di iniziare, mi piacerebbe conoscerti meglio, come ti chiami?

  utter_ask_Ecasapalestra:
  - text: ti vuoi allenare a casa o in palestra? Nel coso in cui tu ti voglia allenare a casa, predisporremo un scheda di allenamento che non preveda l'utilizzo di macchianri o bilanceri "

  

actions:
- utter_ric
- utter_ric_bmi
- utter_ric_calc_bmi
- utter_opzioni_calco_bmi
- utter_submit
- utter_spiegazione_bmi
- action_calc_bmi
- validate_bmi_form
- validate_nome_form
- validate_casapalestra_form



session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
